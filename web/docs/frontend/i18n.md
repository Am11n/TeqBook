# TeqBook â€“ Internationalization (i18n)

Dette dokumentet beskriver hvordan internationalisering (i18n) fungerer i TeqBook.

---

## Oversikt

TeqBook stÃ¸tter **15 sprÃ¥k** for bÃ¥de brukergrensesnitt og offentlig booking:

- ğŸ‡³ğŸ‡´ Norsk (nb)
- ğŸ‡¬ğŸ‡§ English (en)
- ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© (ar)
- ğŸ‡¸ğŸ‡´ Soomaali (so)
- ğŸ‡ªğŸ‡· á‰µáŒáˆ­áŠ› (ti)
- ğŸ‡ªğŸ‡¹ áŠ áˆ›áˆ­áŠ› (am)
- ğŸ‡¹ğŸ‡· TÃ¼rkÃ§e (tr)
- ğŸ‡µğŸ‡± Polski (pl)
- ğŸ‡»ğŸ‡³ Tiáº¿ng Viá»‡t (vi)
- ğŸ‡¨ğŸ‡³ ä¸­æ–‡ (zh)
- ğŸ‡µğŸ‡­ Tagalog (tl)
- ğŸ‡®ğŸ‡· ÙØ§Ø±Ø³ÛŒ (fa)
- ğŸ‡¦ğŸ‡« Ø¯Ø±ÛŒ (dar)
- ğŸ‡µğŸ‡° Ø§Ø±Ø¯Ùˆ (ur)
- ğŸ‡®ğŸ‡³ à¤¹à¤¿à¤¨à¥à¤¦à¥€ (hi)

---

## LocaleProvider

### Hvordan det fungerer

`LocaleProvider` er en React Context Provider som hÃ¥ndterer sprÃ¥kvalg i applikasjonen.

**Lokasjon:** `src/components/locale-provider.tsx`

**Bruk:**

```typescript
import { LocaleProvider } from "@/components/locale-provider";
import { useLocale } from "@/components/locale-provider";

// I root layout
<LocaleProvider>
  <App />
</LocaleProvider>

// I komponenter
function MyComponent() {
  const { locale, setLocale } = useLocale();
  // locale er nÃ¥ "nb", "en", "ar", etc.
}
```

### Integrasjon med SalonProvider

`LocaleProvider` jobber sammen med `SalonProvider` for Ã¥ sette standard sprÃ¥k basert pÃ¥ salongens `preferred_language`:

1. `SalonProvider` laster salong-data
2. Hvis salong har `preferred_language`, settes dette i `LocaleProvider`
3. Hvis ikke, brukes standard "en"

---

## Struktur pÃ¥ sprÃ¥kfiler

### Hovedfil: `translations.ts`

**Lokasjon:** `src/i18n/translations.ts`

Denne filen definerer:
- `AppLocale` type - Alle stÃ¸ttede sprÃ¥kkoder
- `TranslationNamespaces` type - Struktur pÃ¥ oversettelser
- `translations` objekt - Mapping mellom sprÃ¥kkode og oversettelser

**Eksempel:**

```typescript
export type AppLocale = "nb" | "en" | "ar" | ...;

export const translations: Record<AppLocale, TranslationNamespaces> = {
  nb,
  en,
  ar,
  // ...
};
```

### SprÃ¥kfiler

Hvert sprÃ¥k har sin egen fil i `src/i18n/`:

- `nb.ts` - Norsk
- `en.ts` - English
- `ar.ts` - Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
- etc.

**Struktur:**

```typescript
// src/i18n/nb.ts
export const nb: TranslationNamespaces = {
  dashboard: {
    welcome: "Velkommen",
    // ...
  },
  bookings: {
    title: "Bookinger",
    // ...
  },
  // ...
};
```

### Namespaces

Oversettelser er organisert i namespaces:

- `dashboard` - Dashboard-oversettelser
- `bookings` - Booking-oversettelser
- `employees` - Ansatte-oversettelser
- `services` - Tjeneste-oversettelser
- `customers` - Kunde-oversettelser
- `shifts` - Vakt-oversettelser
- `settings` - Innstillinger-oversettelser
- `publicBooking` - Offentlig booking-oversettelser
- `common` - Felles oversettelser

---

## Bruk i komponenter

### Grunnleggende bruk

```typescript
import { useLocale } from "@/components/locale-provider";
import { translations } from "@/i18n/translations";

function MyComponent() {
  const { locale } = useLocale();
  const t = translations[locale].dashboard;

  return <h1>{t.welcome}</h1>;
}
```

### Med namespace

```typescript
import { useLocale } from "@/components/locale-provider";
import { translations } from "@/i18n/translations";

function BookingsPage() {
  const { locale } = useLocale();
  const t = translations[locale].bookings;

  return (
    <div>
      <h1>{t.title}</h1>
      <p>{t.description}</p>
    </div>
  );
}
```

### Type-sikkerhet

Alle oversettelser er type-sikre:

```typescript
// âœ… RIKTIG - TypeScript vil gi autocomplete
const t = translations[locale].bookings;
t.title; // âœ…
t.invalidTitle; // âŒ TypeScript error

// âœ… RIKTIG - Type checking
const t: typeof translations.nb.bookings = translations[locale].bookings;
```

---

## Regler for Ã¥ hindre hardkoding av tekst

### âŒ FORBUDT

```typescript
// âŒ FEIL - Hardkodet tekst
<h1>Welcome</h1>
<button>Create Booking</button>
<p>No bookings found</p>
```

### âœ… TILLATT

```typescript
// âœ… RIKTIG - Bruk oversettelser
const t = translations[locale].dashboard;
<h1>{t.welcome}</h1>
<button>{t.createBooking}</button>
<p>{t.noBookings}</p>
```

### Unntak

Noen tekster kan vÃ¦re hardkodede hvis de:
- Er tekniske (feilmeldinger fra API)
- Er dynamiske (datoer, tall)
- Er brukernavn eller salongnavn

**Eksempel:**

```typescript
// âœ… OK - Dynamisk data
<p>Salon: {salon.name}</p>
<p>Date: {new Date().toLocaleDateString()}</p>

// âœ… OK - Teknisk feilmelding
{error && <p>Error: {error}</p>}
```

---

## Legge til nytt sprÃ¥k

### Steg 1: Legg til sprÃ¥kkode i `AppLocale`

**Fil:** `src/i18n/translations.ts`

```typescript
export type AppLocale =
  | "nb"
  | "en"
  // ... eksisterende sprÃ¥k
  | "sv"; // â† Nytt sprÃ¥k
```

### Steg 2: Opprett sprÃ¥kfil

**Fil:** `src/i18n/sv.ts`

```typescript
import type { TranslationNamespaces } from "./translations";

export const sv: TranslationNamespaces = {
  dashboard: {
    welcome: "VÃ¤lkommen",
    // ... alle oversettelser
  },
  bookings: {
    title: "Bokningar",
    // ... alle oversettelser
  },
  // ... alle namespaces
};
```

### Steg 3: Importer og legg til i `translations`

**Fil:** `src/i18n/translations.ts`

```typescript
import { sv } from "./sv";

export const translations: Record<AppLocale, TranslationNamespaces> = {
  nb,
  en,
  // ... eksisterende sprÃ¥k
  sv, // â† Nytt sprÃ¥k
};
```

### Steg 4: Oppdater UI (hvis nÃ¸dvendig)

Hvis sprÃ¥ket skal vises i sprÃ¥kvelger, legg det til der:

```typescript
<option value="sv">ğŸ‡¸ğŸ‡ª Svenska</option>
```

---

## Best Practices

### 1. Bruk konsistent navngiving

```typescript
// âœ… RIKTIG - Konsistent
title: "Bookings"
description: "Manage your bookings"
createButton: "Create Booking"

// âŒ FEIL - Inkonsistent
title: "Bookings"
desc: "Manage your bookings"
createBtn: "Create Booking"
```

### 2. Organiser i logiske namespaces

```typescript
// âœ… RIKTIG - Logisk organisering
bookings: {
  title: "Bookings",
  create: "Create Booking",
  edit: "Edit Booking",
}

// âŒ FEIL - Flat struktur
allBookingsTitle: "Bookings",
allBookingsCreate: "Create Booking",
allBookingsEdit: "Edit Booking",
```

### 3. UnngÃ¥ for lange tekster

```typescript
// âœ… RIKTIG - Kort og tydelig
description: "Manage bookings"

// âŒ FEIL - For langt
description: "This page allows you to manage all your bookings, including creating new ones, editing existing ones, and deleting old ones"
```

### 4. Bruk placeholder for dynamisk innhold

```typescript
// âœ… RIKTIG - Placeholder
welcomeMessage: "Welcome, {name}!"

// I komponent
{t.welcomeMessage.replace("{name}", user.name)}

// âœ… BEDRE - Template literal (hvis mulig)
welcomeMessage: (name: string) => `Welcome, ${name}!`
```

---

## Testing

### Test med forskjellige sprÃ¥k

```typescript
import { render } from "@testing-library/react";
import { LocaleProvider } from "@/components/locale-provider";

test("renders in Norwegian", () => {
  render(
    <LocaleProvider>
      <MyComponent />
    </LocaleProvider>
  );
  // Test norsk oversettelse
});
```

---

## Relaterte dokumenter

- `docs/architecture/overview.md` - Systemoversikt
- `docs/coding-style.md` - Kodestandarder

